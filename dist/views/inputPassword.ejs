<!DOCTYPE html>
<%- include('include/head'); %>
<html lang="en">
  <body>
    <div style="text-align: center">
      <h1>Before we begin, Lets input your booth password.</h1>
      <br />
      <div>
        <div class="form__group field">
          <input
            type="input"
            class="form__field"
            placeholder="Password"
            name="password"
            id="password"
            required
            onchange="onChange()"
          />
          <label for="name" class="form__label">Password</label>
        </div>
      </div>
      <br />
      <br />
      <br />
      <br />
      <button id="submit" onclick="ready()" class="button">SUBMIT</button>
    </div>

    <script type="text/javascript">
      function onChange() {
        document.getElementById('password');
      }
      function ready() {
        const password = document.getElementById('password');
        fetch(`/input?password=${password.value}`)
          .then(function (response) {
            return response.json();
          })
          .then(function (data) {
            if (data.ok) {
              window.location.replace('/');
            }
          })
          .catch(function (err) {
            console.log(err);
          });
      }
    </script>
  </body>
</html>
